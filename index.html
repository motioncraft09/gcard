<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Offer AI</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #6C63FF;
            --primary-dark: #5752D4;
            --secondary: #00B4D8;
            --accent: #FF6B6B;
            --success: #4CC9F0;
            --warning: #F9C74F;
            --dark: #121826;
            --darker: #0A0F1C;
            --light: #F8F9FA;
            --gray: #6C757D;
            --glass: rgba(255, 255, 255, 0.08);
            --glass-dark: rgba(0, 0, 0, 0.2);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            --border-radius: 16px;
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background: rgba(10, 15, 28, 0.8);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 15px 0;
            transition: var(--transition);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 2.5rem;
        }

        .credit-status {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 12px 20px;
            border-radius: 50px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(108, 99, 255, 0.3);
            transition: var(--transition);
            animation: pulse 2s infinite;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 4px 15px rgba(108, 99, 255, 0.3); }
            50% { transform: scale(1.05); box-shadow: 0 6px 20px rgba(108, 99, 255, 0.5); }
            100% { transform: scale(1); box-shadow: 0 4px 15px rgba(108, 99, 255, 0.3); }
        }

        .credit-status:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(108, 99, 255, 0.4);
        }

        /* Hero Section */
        .hero {
            padding: 100px 0 60px;
            text-align: center;
            max-width: 900px;
            margin: 0 auto;
            position: relative;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, rgba(108, 99, 255, 0.1) 0%, transparent 70%);
            z-index: -1;
        }

        .hero h1 {
            font-size: 3.8rem;
            font-weight: 800;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.3rem;
            color: var(--gray);
            margin-bottom: 40px;
        }

        .ai-badge {
            display: inline-block;
            background: rgba(108, 99, 255, 0.2);
            color: var(--primary);
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 30px;
            border: 1px solid rgba(108, 99, 255, 0.3);
        }

        /* Form Styles */
        .form-section {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: var(--transition);
            animation: slideUp 0.8s ease-out;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--light);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        label i {
            color: var(--primary);
        }

        input, select, textarea {
            padding: 15px 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            font-size: 1rem;
            transition: var(--transition);
            background: rgba(0, 0, 0, 0.2);
            color: var(--light);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.2);
            background: rgba(0, 0, 0, 0.3);
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            padding: 16px 35px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(108, 99, 255, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(108, 99, 255, 0.4);
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            background: var(--gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .generate-btn-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        /* Loading Animation */
        .loading-container {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 40px;
            margin: 30px 0;
            background: var(--glass);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            animation: fadeIn 0.5s ease;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .loading-spinner {
            width: 70px;
            height: 70px;
            border: 5px solid rgba(108, 99, 255, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
            margin-bottom: 25px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Output Section */
        .output-section {
            display: none;
            animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .section-title {
            font-size: 2.2rem;
            margin-bottom: 40px;
            text-align: center;
            color: var(--light);
            font-weight: 700;
        }

        .offers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .offer-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            animation: cardAppear 0.5s ease forwards;
            opacity: 0;
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
        }

        @keyframes cardAppear {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .offer-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(108, 99, 255, 0.3);
        }

        .offer-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .offer-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--light);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .offer-title i {
            color: var(--primary);
        }

        .analysis-list {
            margin-bottom: 25px;
            padding-left: 20px;
        }

        .analysis-list li {
            margin-bottom: 10px;
            position: relative;
        }

        .analysis-list li::before {
            content: '✓';
            color: var(--success);
            font-weight: bold;
            position: absolute;
            left: -20px;
        }

        .performance-metrics {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .metric {
            text-align: center;
            flex: 1;
        }

        .metric-value {
            font-weight: 800;
            font-size: 1.4rem;
            color: var(--primary);
        }

        .metric-label {
            font-size: 0.85rem;
            color: var(--gray);
            margin-top: 5px;
        }

        .price-tiers {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            gap: 10px;
        }

        .tier {
            text-align: center;
            flex: 1;
            padding: 15px 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .tier:hover {
            transform: translateY(-5px);
            background: rgba(0, 0, 0, 0.3);
        }

        .tier-name {
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .tier-price {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--light);
        }

        .ad-copy {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            font-style: italic;
            border-left: 4px solid var(--primary);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .ad-copy::before {
            content: '"';
            font-size: 3rem;
            color: rgba(108, 99, 255, 0.2);
            position: absolute;
            top: 5px;
            left: 10px;
        }

        .confidence-score {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(0, 0, 0, 0.2);
            padding: 15px 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .confidence-bar {
            flex: 1;
            height: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            overflow: hidden;
            margin: 0 20px;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success), #2a9d8f);
            border-radius: 5px;
            transition: width 1s ease;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
            padding: 20px;
        }

        .modal {
            background: linear-gradient(135deg, var(--dark), var(--darker));
            border-radius: var(--border-radius);
            padding: 40px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: modalFadeIn 0.4s ease;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
            overflow-y: auto;
            overflow-x: hidden;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }

        .modal-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--light);
        }

        .modal-text {
            margin-bottom: 30px;
            color: var(--gray);
            line-height: 1.6;
        }

        .payment-details {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            text-align: left;
        }

        .payment-details h3 {
            margin-bottom: 15px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .payment-details p {
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .unlock-process {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            text-align: left;
        }

        .unlock-process h3 {
            margin-bottom: 15px;
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .unlock-process ol {
            padding-left: 20px;
            margin-bottom: 15px;
        }

        .unlock-process li {
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .modal-input {
            width: 100%;
            margin-bottom: 15px;
            padding: 15px 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            font-size: 1rem;
            transition: var(--transition);
            background: rgba(0, 0, 0, 0.3);
            color: var(--light);
        }

        .modal-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.2);
        }

        .modal-buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }

        .modal-btn {
            flex: 1;
            padding: 16px 20px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .send-transaction-btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            box-shadow: 0 4px 15px rgba(108, 99, 255, 0.3);
        }

        .send-transaction-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(108, 99, 255, 0.4);
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
        }

        .unlock-btn {
            background: linear-gradient(135deg, var(--success), #2a9d8f);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 201, 240, 0.3);
        }

        .unlock-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(76, 201, 240, 0.4);
            background: linear-gradient(135deg, #2a9d8f, var(--success));
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 0;
            color: var(--gray);
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            margin-top: 40px;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .offers-grid {
                grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .offers-grid {
                grid-template-columns: 1fr;
            }
            
            .performance-metrics, .price-tiers {
                flex-direction: column;
                gap: 15px;
            }
            
            .metric, .tier {
                margin: 0;
            }
            
            .logo {
                font-size: 1.8rem;
            }

            .modal {
                padding: 30px 20px;
            }

            .modal-buttons {
                flex-direction: column;
            }
        }

        @media (max-width: 576px) {
            .form-section {
                padding: 25px;
            }
            
            .hero {
                padding: 50px 0 30px;
            }
            
            .hero h1 {
                font-size: 1.8rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="logo-container">
                <div class="logo">
                    <i class="fas fa-robot"></i>
                    Global Offer AI
                </div>
            </div>
            <div class="credit-status" id="credit-status">
                <i class="fas fa-coins"></i>
                <span id="credit-text">Loading credits...</span>
            </div>
        </div>
    </header>

    <div class="container">
        <section class="hero">
            <div class="ai-badge">
                <i class="fas fa-brain"></i> POWERED BY ADVANCED AI
            </div>
            <h1>Generate High-Converting Offers For Any Market</h1>
            <p>Enter your product details, select a target country, and our AI will generate localized, high-performing offers in seconds.</p>
        </section>

        <section class="form-section">
            <form id="offer-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="product-name"><i class="fas fa-box"></i> Product Name</label>
                        <input type="text" id="product-name" placeholder="Enter product name" required>
                    </div>
                    <div class="form-group">
                        <label for="product-description"><i class="fas fa-align-left"></i> Product Description</label>
                        <textarea id="product-description" placeholder="Describe your product" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="price"><i class="fas fa-tag"></i> Price (<span id="price-currency">USD</span>)</label>
                        <input type="number" id="price" placeholder="0.00" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="country"><i class="fas fa-flag"></i> Country</label>
                        <select id="country" required>
                            <option value="">Select a country</option>
                            <option value="US">United States</option>
                            <option value="GB">United Kingdom</option>
                            <option value="DE">Germany</option>
                            <option value="FR">France</option>
                            <option value="ES">Spain</option>
                            <option value="IT">Italy</option>
                            <option value="JP">Japan</option>
                            <option value="KR">South Korea</option>
                            <option value="BR">Brazil</option>
                            <option value="MX">Mexico</option>
                            <option value="IN">India</option>
                            <option value="AU">Australia</option>
                            <option value="CA">Canada</option>
                            <option value="BD">Bangladesh</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="language"><i class="fas fa-language"></i> Language</label>
                        <input type="text" id="language" placeholder="Auto-detected" readonly>
                    </div>
                    <div class="form-group">
                        <label for="currency"><i class="fas fa-money-bill-wave"></i> Currency</label>
                        <input type="text" id="currency" placeholder="Auto-detected" readonly>
                    </div>
                </div>
                <div class="generate-btn-container">
                    <button type="submit" class="btn" id="generate-btn">
                        <i class="fas fa-bolt"></i> Generate AI Offers
                    </button>
                </div>
            </form>
        </section>

        <div class="loading-container" id="loading-container">
            <div class="loading-spinner"></div>
            <p>AI is generating high-converting offers for your target market...</p>
        </div>

        <section class="output-section" id="output-section">
            <h2 class="section-title">Your AI-Generated Offers</h2>
            <div class="offers-grid" id="offers-container">
                <!-- Offer cards will be inserted here -->
            </div>
        </section>

        <footer>
            <p>© 2023 Global Offer AI. All rights reserved.</p>
        </footer>
    </div>

    <div class="modal-overlay" id="limit-modal">
        <div class="modal">
            <h2 class="modal-title">Free Limit Reached</h2>
            <p class="modal-text">You've used your 5 free offer generations. Unlock unlimited access for just $1.</p>
            
            <div class="payment-details">
                <h3><i class="fas fa-coins"></i> Crypto Payment</h3>
                <p><strong>Crypto Account:</strong> 12345</p>
                <p><strong>Amount:</strong> $1 (or equivalent crypto)</p>
                <p><strong>Duration:</strong> 1 Month Unlimited Access</p>
                <p>Send payment to the crypto account above and enter your transaction ID below.</p>
            </div>
            
            <div class="unlock-process">
                <h3><i class="fas fa-unlock"></i> Unlock Process</h3>
                <ol>
                    <li>Send $1 to Crypto Account: 12345</li>
                    <li>Enter your transaction ID and click "Send Transaction ID"</li>
                    <li>We will manually verify your payment</li>
                    <li>You will receive an unlock code via email</li>
                    <li>Enter the unlock code and click "Unlock" to activate unlimited access</li>
                </ol>
                <p><strong>Note:</strong> Manual verification may take up to 24 hours.</p>
            </div>
            
            <input type="text" class="modal-input" id="transaction-id" placeholder="Enter your transaction ID">
            <div class="modal-buttons">
                <button class="modal-btn send-transaction-btn" id="send-transaction-btn">
                    <i class="fas fa-paper-plane"></i> Send Transaction ID
                </button>
                <button class="modal-btn unlock-btn" id="unlock-btn">
                    <i class="fas fa-key"></i> Unlock with Code
                </button>
            </div>
        </div>
    </div>

    <script>
        // Configuration
        const PREMIUM_CODES = ["OFFER123", "AI2023", "UNLIMITED", "BANGLADESH", "CRYPTO1"];
        const MAX_FREE_GENERATIONS = 5;

        // Country to language and currency mapping
        const countryData = {
            US: { language: "English", currency: "USD", symbol: "$" },
            GB: { language: "English", currency: "GBP", symbol: "£" },
            DE: { language: "German", currency: "EUR", symbol: "€" },
            FR: { language: "French", currency: "EUR", symbol: "€" },
            ES: { language: "Spanish", currency: "EUR", symbol: "€" },
            IT: { language: "Italian", currency: "EUR", symbol: "€" },
            JP: { language: "Japanese", currency: "JPY", symbol: "¥" },
            KR: { language: "Korean", currency: "KRW", symbol: "₩" },
            BR: { language: "Portuguese", currency: "BRL", symbol: "R$" },
            MX: { language: "Spanish", currency: "MXN", symbol: "$" },
            IN: { language: "Hindi", currency: "INR", symbol: "₹" },
            AU: { language: "English", currency: "AUD", symbol: "A$" },
            CA: { language: "English", currency: "CAD", symbol: "C$" },
            BD: { language: "Bengali", currency: "BDT", symbol: "৳" }
        };

        // DOM Elements
        const offerForm = document.getElementById('offer-form');
        const countrySelect = document.getElementById('country');
        const languageInput = document.getElementById('language');
        const currencyInput = document.getElementById('currency');
        const priceCurrency = document.getElementById('price-currency');
        const generateBtn = document.getElementById('generate-btn');
        const loadingContainer = document.getElementById('loading-container');
        const outputSection = document.getElementById('output-section');
        const offersContainer = document.getElementById('offers-container');
        const limitModal = document.getElementById('limit-modal');
        const transactionIdInput = document.getElementById('transaction-id');
        const sendTransactionBtn = document.getElementById('send-transaction-btn');
        const unlockBtn = document.getElementById('unlock-btn');
        const creditStatus = document.getElementById('credit-status');
        const creditText = document.getElementById('credit-text');

        // State
        let userIP = '';
        let usageCount = 0;
        let isPremium = false;
        let currentCurrency = 'USD';
        let currentCurrencySymbol = '$';
        let currentLanguage = 'English';
        let unlockCodeInput;

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
        });

        // Functions
        async function initializeApp() {
            // Get user IP
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                userIP = data.ip;
            } catch (error) {
                console.error('Failed to get IP:', error);
                // Fallback to a mock IP for demo purposes
                userIP = '192.168.1.1';
            }

            // Load usage data from localStorage
            const storedUsage = localStorage.getItem(`usage_${userIP}`);
            if (storedUsage) {
                usageCount = parseInt(storedUsage);
            }

            // Check premium status
            const premiumStatus = localStorage.getItem('premium_unlocked');
            if (premiumStatus === 'true') {
                isPremium = true;
            }

            updateCreditStatus();
            updateGenerateButtonState();
        }

        function setupEventListeners() {
            // Country change event
            countrySelect.addEventListener('change', function() {
                const countryCode = this.value;
                if (countryCode && countryData[countryCode]) {
                    languageInput.value = countryData[countryCode].language;
                    currencyInput.value = countryData[countryCode].currency;
                    currentCurrency = countryData[countryCode].currency;
                    currentCurrencySymbol = countryData[countryCode].symbol;
                    currentLanguage = countryData[countryCode].language;
                    priceCurrency.textContent = countryData[countryCode].currency;
                } else {
                    languageInput.value = '';
                    currencyInput.value = '';
                    currentCurrency = 'USD';
                    currentCurrencySymbol = '$';
                    currentLanguage = 'English';
                    priceCurrency.textContent = 'USD';
                }
            });

            // Form submission
            offerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                generateOffers();
            });

            // Send transaction button
            sendTransactionBtn.addEventListener('click', function() {
                const transactionId = transactionIdInput.value.trim();
                
                if (!transactionId) {
                    alert('Please enter your transaction ID');
                    return;
                }
                
                // Store transaction ID
                localStorage.setItem('transaction_id', transactionId);
                
                // Show unlock code input
                showUnlockCodeInput();
                
                alert('Transaction ID submitted! We will verify your payment and send you an unlock code via email within 24 hours.');
            });

            // Unlock button
            unlockBtn.addEventListener('click', function() {
                if (!unlockCodeInput) {
                    alert('Please submit your transaction ID first');
                    return;
                }
                
                const enteredCode = unlockCodeInput.value.trim();
                
                if (!enteredCode) {
                    alert('Please enter your unlock code');
                    return;
                }
                
                if (PREMIUM_CODES.includes(enteredCode)) {
                    isPremium = true;
                    localStorage.setItem('premium_unlocked', 'true');
                    limitModal.style.display = 'none';
                    updateCreditStatus();
                    updateGenerateButtonState();
                    alert('Premium access unlocked! Enjoy unlimited offer generations for 1 month.');
                } else {
                    alert('Invalid unlock code. Please try again or contact support.');
                }
            });
        }

        function showUnlockCodeInput() {
            // Remove transaction ID input and send button
            transactionIdInput.style.display = 'none';
            sendTransactionBtn.style.display = 'none';
            
            // Create unlock code input
            unlockCodeInput = document.createElement('input');
            unlockCodeInput.type = 'text';
            unlockCodeInput.className = 'modal-input';
            unlockCodeInput.placeholder = 'Enter unlock code';
            unlockCodeInput.id = 'unlock-code';
            
            // Insert after the transaction ID input
            transactionIdInput.parentNode.insertBefore(unlockCodeInput, transactionIdInput.nextSibling);
            
            // Change unlock button text
            unlockBtn.innerHTML = '<i class="fas fa-unlock"></i> Activate Unlimited Access';
        }

        function updateCreditStatus() {
            const remaining = MAX_FREE_GENERATIONS - usageCount;
            if (isPremium) {
                creditText.textContent = 'Premium User (Unlimited)';
                creditStatus.style.background = 'linear-gradient(135deg, #FFD700, #FFA500)';
                creditStatus.style.color = '#333';
            } else {
                creditText.textContent = `${remaining} Free Generations Left`;
                if (remaining <= 1) {
                    creditStatus.style.background = 'linear-gradient(135deg, #FF6B6B, #EE5A24)';
                }
            }
        }

        function updateGenerateButtonState() {
            if (usageCount >= MAX_FREE_GENERATIONS && !isPremium) {
                generateBtn.disabled = false; // Keep it enabled to show subscription popup
                generateBtn.innerHTML = '<i class="fas fa-lock"></i> Upgrade to Generate';
            } else {
                generateBtn.disabled = false;
                generateBtn.innerHTML = '<i class="fas fa-bolt"></i> Generate AI Offers';
            }
        }

        function generateOffers() {
            // Check if user has reached the limit
            if (usageCount >= MAX_FREE_GENERATIONS && !isPremium) {
                console.log("Showing subscription popup - usageCount:", usageCount, "isPremium:", isPremium);
                limitModal.style.display = 'flex';
                return;
            }

            // Show loading animation
            loadingContainer.style.display = 'flex';
            outputSection.style.display = 'none';

            // Increment usage count
            if (!isPremium) {
                usageCount++;
                localStorage.setItem(`usage_${userIP}`, usageCount.toString());
                updateCreditStatus();
                updateGenerateButtonState();
            }

            // Simulate API call with setTimeout
            setTimeout(() => {
                createOfferCards();
                loadingContainer.style.display = 'none';
                outputSection.style.display = 'block';
                
                // Scroll to results
                outputSection.scrollIntoView({ behavior: 'smooth' });
            }, 2500);
        }

        function createOfferCards() {
            // Clear previous offers
            offersContainer.innerHTML = '';

            const productName = document.getElementById('product-name').value;
            const countryCode = countrySelect.value;
            const price = parseFloat(document.getElementById('price').value);

            // Generate 10 offer cards
            for (let i = 0; i < 10; i++) {
                const offerCard = document.createElement('div');
                offerCard.className = 'offer-card';
                offerCard.style.animationDelay = `${i * 0.1}s`;

                // Generate random offer data
                const title = getRandomElement(offerTitles);
                const analysisPoints = getRandomElements(analysisPointsList, 3);
                const ctr = (Math.random() * 10 + 2).toFixed(1);
                const conversion = (Math.random() * 5 + 1).toFixed(1);
                const revenue = Math.floor(Math.random() * 5000 + 1000);
                const basePrice = price || 100;
                const basicPrice = (basePrice * 0.7).toFixed(2);
                const standardPrice = basePrice.toFixed(2);
                const premiumPrice = (basePrice * 1.5).toFixed(2);
                const adCopy = getRandomElement(adCopies);
                const confidence = Math.floor(Math.random() * 30 + 70);

                offerCard.innerHTML = `
                    <h3 class="offer-title"><i class="fas fa-bullseye"></i> ${title}</h3>
                    <ul class="analysis-list">
                        ${analysisPoints.map(point => `<li>${point}</li>`).join('')}
                    </ul>
                    <div class="performance-metrics">
                        <div class="metric">
                            <div class="metric-value">${ctr}%</div>
                            <div class="metric-label">Click-Through Rate</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${conversion}%</div>
                            <div class="metric-label">Conversion Rate</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${formatCurrency(revenue, currentCurrency, currentCurrencySymbol)}</div>
                            <div class="metric-label">Projected Revenue</div>
                        </div>
                    </div>
                    <div class="price-tiers">
                        <div class="tier">
                            <div class="tier-name">Basic</div>
                            <div class="tier-price">${formatCurrency(basicPrice, currentCurrency, currentCurrencySymbol)}</div>
                        </div>
                        <div class="tier">
                            <div class="tier-name">Standard</div>
                            <div class="tier-price">${formatCurrency(standardPrice, currentCurrency, currentCurrencySymbol)}</div>
                        </div>
                        <div class="tier">
                            <div class="tier-name">Premium</div>
                            <div class="tier-price">${formatCurrency(premiumPrice, currentCurrency, currentCurrencySymbol)}</div>
                        </div>
                    </div>
                    <div class="ad-copy">${adCopy}</div>
                    <div class="confidence-score">
                        <span>AI Confidence Score</span>
                        <div class="confidence-bar">
                            <div class="confidence-fill" style="width: ${confidence}%"></div>
                        </div>
                        <span>${confidence}%</span>
                    </div>
                `;

                offersContainer.appendChild(offerCard);
            }
        }

        // Dummy data for offers
        const offerTitles = [
            "Limited Time Exclusive Offer",
            "Premium Bundle Deal",
            "Early Bird Special",
            "Flash Sale Discount",
            "Members-Only Pricing",
            "Buy One Get One Free",
            "Seasonal Promotion",
            "New Customer Welcome Deal",
            "Limited Stock Clearance",
            "VIP Access Package"
        ];

        const analysisPointsList = [
            "Taps into scarcity mindset creating urgency",
            "Appeals to value-conscious consumers",
            "Builds brand loyalty through exclusive access",
            "Encourages immediate purchase decisions",
            "Targets specific customer pain points effectively",
            "Leverages social proof and FOMO (Fear Of Missing Out)",
            "Optimized for mobile conversion rates",
            "Aligns with current market trends and demand"
        ];

        const adCopies = [
            "Don't miss this exclusive opportunity! Limited time offer for our premium product.",
            "Transform your experience with our special bundle. Act now before it's gone!",
            "Be the first to enjoy our revolutionary product at an unbeatable price.",
            "Flash sale! Get amazing discounts on our top-rated products for a limited time.",
            "Join our elite members club and unlock special pricing and benefits today."
        ];

        function getRandomElement(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function getRandomElements(array, count) {
            const shuffled = [...array].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        function formatCurrency(amount, currency, symbol) {
            // Simple currency formatting for demo
            const formatters = {
                USD: new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }),
                GBP: new Intl.NumberFormat('en-GB', { style: 'currency', currency: 'GBP' }),
                EUR: new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'EUR' }),
                JPY: new Intl.NumberFormat('ja-JP', { style: 'currency', currency: 'JPY' }),
                KRW: new Intl.NumberFormat('ko-KR', { style: 'currency', currency: 'KRW' }),
                BRL: new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }),
                MXN: new Intl.NumberFormat('es-MX', { style: 'currency', currency: 'MXN' }),
                INR: new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR' }),
                AUD: new Intl.NumberFormat('en-AU', { style: 'currency', currency: 'AUD' }),
                CAD: new Intl.NumberFormat('en-CA', { style: 'currency', currency: 'CAD' }),
                BDT: new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'BDT' })
            };

            if (formatters[currency]) {
                return formatters[currency].format(amount);
            }

            // Fallback formatting
            return `${symbol} ${parseFloat(amount).toFixed(2)}`;
        }

        // Test function to force show the modal (for testing)
        function testSubscriptionPopup() {
            usageCount = 5;
            localStorage.setItem(`usage_${userIP}`, usageCount.toString());
            updateCreditStatus();
            updateGenerateButtonState();
            console.log("Test: Showing subscription popup");
            limitModal.style.display = 'flex';
        }
    </script>
</body>
</html>
